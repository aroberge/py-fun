<?xml version="1.0" encoding="UTF-8" ?>
<Module>
  <ModulePrefs title="Tabs Demo" height="140" scrolling="true" >
    <Require feature="tabs" />
    <Require feature="dynamic-height"/>
  </ModulePrefs>
  <Content type="html">
  <![CDATA[
    <script type="text/javascript">
    var tabs = new gadgets.TabSet(__MODULE_ID__);
    function init() {

        tabs.addTab("Problem statement", {
           contentContainer: document.getElementById("problem_tab")
        });

        tabs.addTab("World", {
           contentContainer: document.getElementById("gui_tab"),
           callback: update_info
        });

        tabs.addTab("Program editor", {
           contentContainer: document.getElementById("program_editor_tab")
        });

        // Technique #4: Create the tab with a tooltip message. If specified <div>
        // doesn't exist, tabs library creates one.
        // Invoke callback function.
        tabs.addTab("World Editor", {
           contentContainer: document.getElementById("world_editor_tab")
        });
    }

    function update_info(tabId) {
      // this updates the information using the latest program entered by
      // the user and any world information.
      // for now, it should simply display what it reads.
      var editor_display = document.getElementById("program_from_editor");
      editor_display.innerHTML = document.getElementById("program_edit").value;

      var world_display = document.getElementById("world_from_editor");
      world_display.innerHTML = document.getElementById("world_edit").value;
      gadgets.window.adjustHeight();
    }

    // Call init function to initialize and display tabs.
    gadgets.util.registerOnLoadHandler(init);
    </script>


    <div id="problem_tab" style="display:none">
      <textarea>Problem statement</textarea>
    </div>


    <div id="gui_tab" style="display:none">
    <h2>Program entered</h2>
    <pre id="program_from_editor"> </pre>
    <h2>World defined</h2>
    <pre id="world_from_editor"> </pre>
   </div>

    <div id="program_editor_tab" style="display:none">
      <h2>Enter program below.</h2>
      <textarea id="program_edit"> </textarea>
    </div>

    <div id="world_editor_tab" style="display:none">
      <h2>Enter world below.</h2>
      <textarea id="world_edit"> </textarea>
    </div>

  ]]>
  </Content>
</Module>
